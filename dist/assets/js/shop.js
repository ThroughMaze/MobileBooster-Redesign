import"./bootstrap.js";/* empty css     */import"./bootstrap.min.js";class d{constructor(){this.products=[],this.filteredProducts=[],this.filters={coverage:"",signal:"",price:"",search:""},this.sortBy="featured",this.init()}init(){this.loadProducts(),this.bindEvents(),this.initFormValidation()}loadProducts(){const t=document.querySelectorAll(".product-card");this.products=Array.from(t).map((e,s)=>{var o,a;const r=e.closest("[data-coverage]");return{id:s+1,element:e,coverage:(r==null?void 0:r.dataset.coverage)||"",signal:(r==null?void 0:r.dataset.signal)||"",price:parseFloat((r==null?void 0:r.dataset.price)||"0"),title:((o=e.querySelector(".product-title a"))==null?void 0:o.textContent)||"",description:((a=e.querySelector(".product-description"))==null?void 0:a.textContent)||""}}),this.filteredProducts=[...this.products],this.updateDisplay()}bindEvents(){var t,e,s,r,o,a;(t=document.getElementById("coverage-filter"))==null||t.addEventListener("change",i=>{this.filters.coverage=i.target.value,this.applyFilters()}),(e=document.getElementById("signal-filter"))==null||e.addEventListener("change",i=>{this.filters.signal=i.target.value,this.applyFilters()}),(s=document.getElementById("price-filter"))==null||s.addEventListener("change",i=>{this.filters.price=i.target.value,this.applyFilters()}),(r=document.getElementById("product-search"))==null||r.addEventListener("input",i=>{this.filters.search=i.target.value.toLowerCase(),this.applyFilters()}),(o=document.getElementById("sort-filter"))==null||o.addEventListener("change",i=>{this.sortBy=i.target.value,this.applyFilters()}),document.querySelectorAll(".add-to-cart").forEach(i=>{i.addEventListener("click",l=>this.addToCart(l))}),(a=document.getElementById("load-more-products"))==null||a.addEventListener("click",()=>{this.loadMoreProducts()})}applyFilters(){this.filteredProducts=this.products.filter(t=>{if(this.filters.coverage&&t.coverage!==this.filters.coverage||this.filters.signal&&t.signal!==this.filters.signal)return!1;if(this.filters.price){const[e,s]=this.getPriceRange(this.filters.price);if(t.price<e||s&&t.price>s)return!1}if(this.filters.search){const e=this.filters.search;if(!t.title.toLowerCase().includes(e)&&!t.description.toLowerCase().includes(e))return!1}return!0}),this.sortProducts(),this.updateDisplay()}getPriceRange(t){switch(t){case"0-200":return[0,200];case"200-400":return[200,400];case"400-600":return[400,600];case"600+":return[600,null];default:return[0,null]}}sortProducts(){switch(this.sortBy){case"price-low":this.filteredProducts.sort((t,e)=>t.price-e.price);break;case"price-high":this.filteredProducts.sort((t,e)=>e.price-t.price);break;case"newest":this.filteredProducts.reverse();break}}updateDisplay(){document.getElementById("products-container"),this.products.forEach(t=>{const e=t.element.closest(".col-lg-4");e&&(e.style.display="none")}),this.filteredProducts.forEach(t=>{const e=t.element.closest(".col-lg-4");e&&(e.style.display="block")}),this.showNoResultsMessage(this.filteredProducts.length===0),this.updateResultsCount()}showNoResultsMessage(t){let e=document.getElementById("no-results-message");t&&!e?(e=document.createElement("div"),e.id="no-results-message",e.className="col-12 text-center py-5",e.innerHTML=`
                <div class="no-results">
                    <h3 class="text-muted mb-3">No products found</h3>
                    <p class="text-muted">Try adjusting your filters or search terms.</p>
                    <button class="btn btn-primary" onclick="window.shop.clearFilters()">Clear All Filters</button>
                </div>
            `,document.getElementById("products-container").appendChild(e)):!t&&e&&e.remove()}updateResultsCount(){let t=document.getElementById("results-count");t||(t=document.createElement("div"),t.id="results-count",t.className="text-muted mb-4",document.querySelector(".products-section .container").insertBefore(t,document.getElementById("products-container"))),t.textContent=`Showing ${this.filteredProducts.length} of ${this.products.length} products`}clearFilters(){this.filters={coverage:"",signal:"",price:"",search:""},this.sortBy="featured",document.getElementById("coverage-filter").value="",document.getElementById("signal-filter").value="",document.getElementById("price-filter").value="",document.getElementById("product-search").value="",document.getElementById("sort-filter").value="featured",this.applyFilters()}addToCart(t){t.target.dataset.productId;const s=t.target.closest(".product-card").querySelector(".product-title a").textContent,r=t.target.textContent;t.target.textContent="Added!",t.target.classList.add("btn-success"),t.target.classList.remove("btn-primary"),setTimeout(()=>{t.target.textContent=r,t.target.classList.remove("btn-success"),t.target.classList.add("btn-primary")},1500),this.showMessage(`${s} added to cart!`,"success"),this.updateCartCount()}updateCartCount(){const t=parseInt(localStorage.getItem("cartCount")||"0")+1;localStorage.setItem("cartCount",t.toString())}loadMoreProducts(){this.showMessage("All products are currently displayed.","info")}showMessage(t,e){const s=document.createElement("div");s.className=`alert alert-${e==="success"?"success":e==="info"?"info":"danger"} position-fixed`,s.style.cssText="top: 20px; right: 20px; z-index: 9999; min-width: 300px;",s.textContent=t,document.body.appendChild(s),setTimeout(()=>{s.remove()},3e3)}initFormValidation(){const t=document.querySelectorAll(".needs-validation");Array.from(t).forEach(e=>{e.addEventListener("submit",s=>{e.checkValidity()||(s.preventDefault(),s.stopPropagation()),e.classList.add("was-validated")},!1)})}}document.addEventListener("DOMContentLoaded",()=>{window.shop=new d});document.addEventListener("DOMContentLoaded",()=>{const c=document.querySelector('[data-bs-toggle="collapse"]'),t=document.querySelector(".fullscreen-nav");c&&t&&c.addEventListener("click",()=>{c.classList.toggle("active"),t.classList.toggle("active")})});document.querySelectorAll(".country-item").forEach(c=>{c.addEventListener("click",t=>{const e=t.currentTarget.querySelector("input[type=radio]"),s=t.currentTarget.querySelector("img"),r=document.querySelector("#openPopup img");e&&e.checked&&s&&r?r.src=s.src:r&&(r.src="https://flagcdn.com/gb.svg")})});var n;(n=document.querySelector(".subscribe-form"))==null||n.addEventListener("submit",c=>{c.preventDefault(),c.currentTarget.checkValidity()&&c.currentTarget.classList.add("subscribed")});
