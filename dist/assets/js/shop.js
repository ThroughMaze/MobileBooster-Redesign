import"./bootstrap.js";/* empty css     */import"./bootstrap.min.js";class d{constructor(){this.products=[],this.filteredProducts=[],this.filters={coverage:"",signal:"",price:"",search:""},this.sortBy="featured",this.init()}init(){this.loadProducts(),this.bindEvents(),this.initFormValidation(),this.initTooltips()}loadProducts(){const t=document.querySelectorAll(".product-card");this.products=Array.from(t).map((e,s)=>{var c,l;const i=e.closest("[data-coverage]")||e;return{id:s+1,element:e,coverage:i.dataset.coverage||"",signal:i.dataset.signal||"",price:parseFloat(i.dataset.price||"0"),title:((c=e.querySelector(".product-title a"))==null?void 0:c.textContent)||"",description:((l=e.querySelector(".product-description"))==null?void 0:l.textContent)||""}}),this.filteredProducts=[...this.products],this.updateDisplay()}bindEvents(){var t,e,s,i,c,l;(t=document.getElementById("coverage-filter"))==null||t.addEventListener("change",r=>{this.filters.coverage=r.target.value,this.applyFilters()}),(e=document.getElementById("signal-filter"))==null||e.addEventListener("change",r=>{this.filters.signal=r.target.value,this.applyFilters()}),(s=document.getElementById("price-filter"))==null||s.addEventListener("change",r=>{this.filters.price=r.target.value,this.applyFilters()}),(i=document.getElementById("product-search"))==null||i.addEventListener("input",r=>{this.filters.search=r.target.value.toLowerCase(),this.applyFilters()}),(c=document.getElementById("sort-filter"))==null||c.addEventListener("change",r=>{this.sortBy=r.target.value,this.applyFilters()}),document.querySelectorAll(".add-to-cart").forEach(r=>{r.addEventListener("click",a=>this.addToCart(a))}),(l=document.getElementById("load-more-products"))==null||l.addEventListener("click",()=>{this.loadMoreProducts()}),document.querySelectorAll(".quick-view-btn").forEach(r=>{r.addEventListener("click",a=>{a.preventDefault(),this.quickView(a)})}),document.querySelectorAll(".category-nav ul li a").forEach(r=>{r.addEventListener("click",a=>{a.preventDefault(),this.filterByCategory(a)})})}applyFilters(){this.filteredProducts=this.products.filter(t=>{if(this.filters.coverage&&t.coverage!==this.filters.coverage||this.filters.signal&&t.signal!==this.filters.signal)return!1;if(this.filters.price){const[e,s]=this.getPriceRange(this.filters.price);if(t.price<e||s&&t.price>s)return!1}if(this.filters.search){const e=this.filters.search;if(!t.title.toLowerCase().includes(e)&&!t.description.toLowerCase().includes(e))return!1}return!0}),this.sortProducts(),this.updateDisplay()}getPriceRange(t){switch(t){case"0-200":return[0,200];case"200-400":return[200,400];case"400-600":return[400,600];case"600+":return[600,null];default:return[0,null]}}sortProducts(){switch(this.sortBy){case"price-low":this.filteredProducts.sort((t,e)=>t.price-e.price);break;case"price-high":this.filteredProducts.sort((t,e)=>e.price-t.price);break;case"newest":this.filteredProducts.reverse();break}}updateDisplay(){document.getElementById("products-container"),this.products.forEach(t=>{t.element.style.display="none"}),this.filteredProducts.forEach(t=>{t.element.style.display="block"}),this.showNoResultsMessage(this.filteredProducts.length===0),this.updateResultsCount()}showNoResultsMessage(t){let e=document.getElementById("no-results-message");t&&!e?(e=document.createElement("div"),e.id="no-results-message",e.className="text-center py-5",e.innerHTML=`
                <div class="no-results">
                    <h3 class="text-muted mb-3">No products found</h3>
                    <p class="text-muted">Try adjusting your filters or search terms.</p>
                    <button class="btn btn-primary" onclick="window.shop.clearFilters()">Clear All Filters</button>
                </div>
            `,document.getElementById("products-container").appendChild(e)):!t&&e&&e.remove()}updateResultsCount(){let t=document.getElementById("results-count");if(!t){t=document.createElement("div"),t.id="results-count",t.className="text-muted mb-4";const e=document.querySelector("#products h2");e&&e.insertAdjacentElement("afterend",t)}t.textContent=`Showing ${this.filteredProducts.length} of ${this.products.length} products`}clearFilters(){this.filters={coverage:"",signal:"",price:"",search:""},this.sortBy="featured",document.getElementById("coverage-filter").value="",document.getElementById("signal-filter").value="",document.getElementById("price-filter").value="",document.getElementById("product-search").value="",document.getElementById("sort-filter").value="featured",this.applyFilters()}filterByCategory(t){const e=t.target.textContent.toLowerCase().split(" ")[0];this.clearFilters(),e==="all"||(e==="home"?this.filters.coverage="small":e==="office"?this.filters.coverage="medium":e==="industrial"&&(this.filters.coverage="xlarge")),this.applyFilters(),document.querySelectorAll(".category-nav ul li a").forEach(s=>{s.classList.remove("text-primary","fw-bold")}),t.target.classList.add("text-primary","fw-bold")}addToCart(t){t.target.dataset.productId;const s=t.target.closest(".product-card").querySelector(".product-title a").textContent,i=t.target.textContent;t.target.textContent="Added!",t.target.classList.add("btn-success"),t.target.classList.remove("btn-primary"),setTimeout(()=>{t.target.textContent=i,t.target.classList.remove("btn-success"),t.target.classList.add("btn-primary")},1500),this.showMessage(`${s} added to cart!`,"success"),this.updateCartCount()}quickView(t){const s=t.target.closest(".product-card").querySelector(".product-title a").textContent;this.showMessage(`Quick view for ${s}`,"info"),setTimeout(()=>{window.location.href="product.html"},1e3)}updateCartCount(){const t=parseInt(localStorage.getItem("cartCount")||"0")+1;localStorage.setItem("cartCount",t.toString())}loadMoreProducts(){this.showMessage("All products are currently displayed.","info")}showMessage(t,e){const s=document.createElement("div");s.className=`alert alert-${e==="success"?"success":e==="info"?"info":"danger"} position-fixed`,s.style.cssText="top: 20px; right: 20px; z-index: 9999; min-width: 300px;",s.textContent=t,document.body.appendChild(s),setTimeout(()=>{s.remove()},3e3)}initFormValidation(){const t=document.querySelectorAll(".needs-validation");Array.from(t).forEach(e=>{e.addEventListener("submit",s=>{e.checkValidity()||(s.preventDefault(),s.stopPropagation()),e.classList.add("was-validated")},!1)})}initTooltips(){[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(e){return new bootstrap.Tooltip(e)})}}document.addEventListener("DOMContentLoaded",()=>{window.shop=new d});document.addEventListener("DOMContentLoaded",()=>{const o=document.querySelector('[data-bs-toggle="collapse"]'),t=document.querySelector(".fullscreen-nav");o&&t&&o.addEventListener("click",()=>{o.classList.toggle("active"),t.classList.toggle("active")})});document.querySelectorAll(".country-item").forEach(o=>{o.addEventListener("click",t=>{const e=t.currentTarget.querySelector("input[type=radio]"),s=t.currentTarget.querySelector("img"),i=document.querySelector("#openPopup img");e&&e.checked&&s&&i?i.src=s.src:i&&(i.src="https://flagcdn.com/gb.svg")})});var n;(n=document.querySelector(".subscribe-form"))==null||n.addEventListener("submit",o=>{o.preventDefault(),o.currentTarget.checkValidity()&&o.currentTarget.classList.add("subscribed")});
